<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
    <title>BlinkID UI Component</title>

    <script type="module" src="../dist/blinkid-in-browser/blinkid-in-browser.esm.js"></script>
    <style type="text/css">
      html,
      body {
        margin: 0;
        padding: 0;

        width: 100%;
        height: 100%;
      }

      html {
        font-family: "Avenir Next", sans-serif;
      }

      body {
        background-color: #fff;
        box-sizing: border-box;

        display: flex;
        justify-content: center;
        align-items: center;

        padding: 20px;
      }

      @font-face {
        font-family: "Satoshi";
        src:
          url("./fonts/Satoshi-Regular.woff2") format("woff2"),
          url("./fonts/Satoshi-Regular.woff") format("woff"),
          url("./fonts/Satoshi-Regular.ttf") format("truetype");
        font-weight: 400;
        font-display: swap;
        font-style: normal;
      }

      @font-face {
        font-family: "Satoshi";
        src:
          url("./fonts/Satoshi-Medium.woff2") format("woff2"),
          url("./fonts/Satoshi-Medium.woff") format("woff"),
          url("./fonts/Satoshi-Medium.ttf") format("truetype");
        font-weight: 500;
        font-display: swap;
        font-style: normal;
      }

      @font-face {
        font-family: "Satoshi";
        src:
          url("./fonts/Satoshi-Bold.woff2") format("woff2"),
          url("./fonts/Satoshi-Bold.woff") format("woff"),
          url("./fonts/Satoshi-Bold.ttf") format("truetype");
        font-weight: 700;
        font-display: swap;
        font-style: normal;
      }

      blinkid-in-browser {
        max-width: 400px;

        --mb-font-family: "Satoshi";

        /* Customization of UI - see variables in src/components/shared/styles/_globals.scss */
        /*
        --mb-component-background: red;
        --mb-component-action-label: none;
        --mb-component-border-width: 0;
        --mb-component-action-buttons-width: 100%;
        --mb-component-action-buttons-justify-content: space-evenly;
        --mb-component-button-size: 48px;
        --mb-component-button-border-radius: 24px;
        */
      }
    </style>
  </head>
  <body>
    <!-- Add attribute 'hide-loading-and-error-ui="true"' to hide component during loading and to hide possible error messages -->
    <!-- First way of setting recognizers is to define them as HTML attribute -->
    <!--
      Change default icons via HTML attribute:
      <blinkid-in-browser icon-camera="https://lh3.googleusercontent.com/proxy/GzpbA9MhjkACfucnJ4KunNfMzKv10e6cy418zEjQYdKB7Xbzwh7IYjio0X0CBLdWrd7nw5ZHvkCXS4cQ2YaZ5JGjGTMLPmQO5dH4xaJODXoriGpdbjwAkO8ismEoSaRe1Q"></blinkid-in-browser>

      ---

      Set translations via HTML attribute:

      <blinkid-in-browser translations='{ "action-message": "Do something else" }'></blinkid-in-browser>

      Note the single quotes!
    -->
    <blinkid-in-browser license-key="sRwAAAYJbG9jYWxob3N0r/lOPk4/w35CpJlWLsMUzyluK70/xuVxz8ABrvYsc6K8qqHwklMLcmZ9e95cYAE2j+KJXGR/GBkeukLaT8sLvD0MjKnYXwQxXUIqQMXC7N/i8ZlbagoJ2pnJu0BDka67+4QI0IWdpYaO9rA5iP9mfNjPUD8ZwchKfS1PzKeoRpyYCYb4q+PLmXwIt/fXXOfG60pMf+ocFcjE9iYg3QSLaE9Zczlv06nzSvvTISR/gN0TXChtPiXiOlLhZ2YrP1dnlve+Cy8Kn5iGx9RzBzY4LR0rCE/U0eS3oxh3EFbyABXQx1wiCWzQgQDGzBljhM6yN+le1hs3oS6kOUY=" recognizers="BlinkIdMultiSideRecognizer" scan-from-camera="true" scan-from-image="true"></blinkid-in-browser>

    <script type="text/javascript">

var parcelRequire;
// Important: if attributes or properties are changed, whole component is rerendered
const blinkId = document.querySelector("blinkid-in-browser");

blinkId.engineLocation = window.location.origin + "/resources";
blinkId.workerLocation =
window.location.origin + `/resources/BlinkIDWasmSDK.worker.min.js`;

// Second way of setting recognizers is to set property "recognizers"
//blinkId.recognizers = ['BlinkIdSingleSideRecognizer'];

// Set desired recognizer options
/*blinkId.recognizerOptions = {
  'BlinkIdSingleSideRecognizer': {
    'returnFullDocumentImage': true,
    'anonymizationMode': 2
  }
};*/

// Second way of changing translations, see src/utils/translations.ts for possible translation keys
/*blinkId.translations = {
  'action-message': 'Do something'
};*/

blinkId.addEventListener("fatalError", (ev) => {
  console.log("fatalError", ev.detail);
});

blinkId.addEventListener("ready", (ev) => {
  console.log("ready", ev.detail);
});

blinkId.addEventListener("scanError", (ev) => {
  console.log("scanError", ev.detail);
});

blinkId.addEventListener("scanSuccess", (ev) => {
  console.log("scanSuccess", ev.detail);
});

blinkId.addEventListener("feedback", (ev) => {
  console.log("feedback", ev.detail);
});

// DEVELOPMENT HELPERS
window.setAttribute = (attribute, value) => {
  blinkId.setAttribute(attribute, value);
};
</script>
  </body>
</html>
